{"version":3,"sources":["components/ProjectPage/ProjectPage.module.css","lib/sanity.js","utils.js","components/Loader.js","components/Landing.js","components/Header.js","components/Search.js","components/ChemicalsViz.js","components/Chemicals.js","components/Topics.js","components/ResearchersViz.js","components/Researchers.js","components/Location.js","components/Locations.js","components/Methodologies.js","components/Times.js","components/Home/Home.js","components/ProjectPageSideBar/List.js","components/ProjectPageSideBar/ProjectPageSideBar.js","components/Video.js","components/SpecialProject/ReactStreetView.js","components/SpecialProject/SpecialProjectMap.js","components/SpecialProject/SpecialProject.js","components/Carousel/Carousel.js","components/ProjectPage/ResourceItem.js","components/ProjectPage/ProjectPage.js","serviceWorker.js","index.js","components/ProjectPageSideBar/ProjectPageSideBar.module.css","components/Carousel/Carousel.module.css","timeUtils.js","components/Home/Home.module.css","components/SpecialProject/SpecialProject.module.css","appContext.js"],"names":["module","exports","project-page-title","project-page-researcher","project-page-body","project-page-section-title","project-page-section-title-no-padding","project-page-resource","resource-item","resource-category","resource-container","close-icon","close-icon-container","project-page-special-title","feedback","_sanity_client__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_sanity_client__WEBPACK_IMPORTED_MODULE_0___default","n","_sanity_image_url__WEBPACK_IMPORTED_MODULE_1__","imageUrlBuilder","sanityClient","projectId","dataset","useCdn","d","__webpack_exports__","parseQueryParams","selection","map","v","i","concat","value","join","reactstrap__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_1___default","Loader","_ref","top","_ref$fullheader","fullheader","a","createElement","className","style","position","bottom","left","right","zIndex","type","color","withRouter","history","react_default","src","width","alt","marginRight","marginLeft","onClick","push","height","withGetScreen","_ref$expanded","expanded","isMobile","context","useContext","AppContext","_useState","useState","_useState2","Object","slicedToArray","isOpen","toggleOpen","useEffect","pathname","location","split","setSection","changeSection","section","selected","Navbar","light","sticky","expand","Fragment","NavbarBrand","NavbarToggler","Collapse","navbar","Nav","NavItem","Search","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","matchStateToTerm","elem","length","objectKey","toLowerCase","indexOf","name","state","_this2","_this$props","items","selectionCallBack","Autocomplete_default","getItemValue","item","inputProps","placeholder","wrapperStyle","menuStyle","backgroundColor","maxHeight","overflow","open","renderItem","isHighlighted","key","padding","borderBottom","cursor","opacity","some","e","shouldItemRender","onChange","event","setState","onSelect","val","isItemSelectable","Component","contextType","radiusScale","scaleSqrt","range","ChemicalsViz","nodes","activeState","simulation","setUpForceLayout","res","max","d3Max","relatedProjects","domain","simulationNodes","filter","r","sort","b","radius","forceSimulation","force","forceManyBody","strength","forceCenter","forceCollide","iterations","on","forEach","x","y","restart","chemicals","nextProps","stop","_this$state","activeIndex","selectChemical","node","index","data-tip","toUpperCase","ref","cx","cy","stroke","strokeWidth","onMouseEnter","ReactTooltip","show","findDOMNode","refs","onMouseLeave","hide","dx","dy","textAnchor","Chemicals","toggleSelected","queryParams","fetch","then","catch","err","console","error","_this3","s","react_tooltip_dist_default","place","theme","effect","components_Search","vx_responsive_es","parent","components_ChemicalsViz","wrappedClass","WrappedComponent","topics","setTopics","_useState3","_useState4","loading","setLoading","_useState5","_useState6","setActiveIndex","handleStatusChange","selectTopic","extent","wordScale","scaleLinear","topic","fontSize","ResearchersViz","links","researchersNodes","researchersLinks","_extent","_extent2","min","fx","fy","researchersLinksGrouped","values","groupBy","formattedLinks","source","findIndex","target","weight","distanceMax","distanceMin","forceLink","forceX","forceY","selectResearcher","link","x1","y1","x2","y2","Researchers","researchers","researchersCount","flatten","reduce","prev","cur","entries","projects","researcher1","remainingResearchers","splice","j","sortedResearchers","components_ResearchersViz","Location","coordinates","zoom","country","city","callbackClick","backgroundImage","lng","lat","offsets","ScrollToHOC","scrollTo","locations","setLocations","getYOffset","selectLocation","id","smooth","rowHeight","window","innerWidth","Math","floor","react_scroll_to","aPriority","priority","components_Location","methodologies","setMethodologies","selectMethod","heightScale","methodology","times","setTimes","setDerivedTimes","derivedTimes","time","diff","d1","d2","months","getFullYear","getMonth","monthDiff","Date","startDate","endDate","quantizeTime","sortedTimes","groupedByTimes","el","reverse","selectTime","widthScale","sum","react_responsive_default","minWidth","duration","borderTop","timeLabels","Projects","React","lazy","bind","Home","setSelectedLocation","selectedLocation","setSelectedTopic","selectedTopic","setSelectedChemical","chemical","selectedChemical","setSelected","log","selectedArray","find","parsed","queryString","parse","search","parsedArray","p","Number","appContext","Provider","Suspense","fallback","components_Header","styles","components_Chemicals","components_Topics","components_Locations","components_Researchers","components_Times","components_Methodologies","elements","ProjectPageSideBar","project","List","places","methods","url","videoId","title","frameBorder","allowFullScreen","ReactStreetview","streetView","canvas","googleMaps","StreetViewPanorama","streetViewPanoramaOptions","addListener","onPositionChanged","getPosition","onPovChanged","getPov","initialize","ReactDOM","clearInstanceListeners","defaultProps","pov","heading","pitch","asyncLoading","globalPath","apiKey","jsonp","clusterMarker","borderRadius","display","justifyContent","alignItems","border","marker","markerSelected","Map","ReactMapboxGl","accessToken","scrollZoom","SpecialProjectMap","clusterClick","setSelectedIndex","pointCount","lib_esm","toString","mapZoom","selectedIndex","m","containerStyle","onZoomEnd","z","getZoom","fitBounds","bounds","fitBoundsOptions","center","ClusterMarkerFactory","zoomOnClick","anchor","_id","data-feature","SpecialProject","setProjects","setBounds","_useState7","_useState8","line","lineString","bbox","activeProject","streetviewOptions","streetviewCoordinates","streetviewHead","streetviewPitch","motionTracking","motionTrackingControl","linksControl","panControl","zoomControl","addressControl","fullscreenControl","enableCloseButton","disableDefaultUI","showRoadLabels","clickToGo","scrollwheel","ReactStreetView","infobox","projectPageMapTitle","stringCoordinates","projectPageSectionTitle","images","image","SpecialProjectMap_SpecialProjectMap","isTablet","activeSlide","setActiveSlide","settings","dots","infinite","centerMode","slidesToShow","slidesToScroll","adaptiveHeight","variableWidth","arrows","afterChange","current","slider","react_slick_lib_default","assign","c","slickPrev","slickNext","ResourceItem","resource","category","toggleModal","private","BlockContent_default","blocks","renderContainerOnSingleChild","href","download","rel","setProject","modal","collapse","toggleCollapse","_useState9","_useState10","selectedRes","setSelectedRes","slug","query","disqusConfig","identifier","goBack","researcher","mainImage","body","internalResources","externalResources","internalResourcesFiles","ProjectPage_ResourceItem","internalResourcesCategories","linkUrl","externalResourcesCategories","components_ProjectPageSideBar_ProjectPageSideBar","components_Carousel_Carousel","videoUrl","components_Video","lib_default","DiscussionEmbed","shortname","config","components_SpecialProject_SpecialProject","Modal","toggle","ModalHeader","ModalBody","Boolean","hostname","match","App","HashRouter","Switch","Route","exact","path","component","Landing","ProjectPage","render","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister","right-column","list-title","list-el","carousel","slider-half","slider-image","slider-arrows","0","3","6","12","24","36","col-projects","col-viz","react__WEBPACK_IMPORTED_MODULE_0__","createContext"],"mappings":"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","file":"static/js/main.5560a73b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"project-page-title\":\"ProjectPage_project-page-title__3C8rz\",\"project-page-researcher\":\"ProjectPage_project-page-researcher__2bFFm\",\"project-page-body\":\"ProjectPage_project-page-body__rknJM\",\"project-page-section-title\":\"ProjectPage_project-page-section-title__3mnw8\",\"project-page-section-title-no-padding\":\"ProjectPage_project-page-section-title-no-padding__6JeIP\",\"project-page-resource\":\"ProjectPage_project-page-resource__7JJj_\",\"resource-item\":\"ProjectPage_resource-item__32IdH\",\"resource-category\":\"ProjectPage_resource-category__Ir8Le\",\"resource-container\":\"ProjectPage_resource-container__34rmj\",\"close-icon\":\"ProjectPage_close-icon__38MJI\",\"close-icon-container\":\"ProjectPage_close-icon-container__342bM\",\"project-page-special-title\":\"ProjectPage_project-page-special-title__3x1vU\",\"feedback\":\"ProjectPage_feedback__3iuAN\"};","import sanityClient from '@sanity/client';\nimport imageUrlBuilder from '@sanity/image-url';\n\nexport const builder = imageUrlBuilder(sanityClient);\n\nexport default sanityClient({\n  projectId: 'i89zv88h',\n  dataset: 'projects',\n  useCdn: true\n  // useCdn == true gives fast, cheap responses using a globally distributed cache.\n  // Set this to false if your application require the freshest possible\n  // data always (potentially slightly slower and a bit more expensive).\n});\n","export const parseQueryParams = selection => {\n  return selection\n    .map((v, i) => {\n      return i === 0 ? `?selected=${v.value}` : `,${v.value}`;\n    })\n    .join('');\n};\n","import { Spinner } from 'reactstrap';\nimport React from 'react';\n\nconst Loader = ({ top, fullheader = true }) => {\n  return (\n    <div\n      className='d-flex justify-content-center align-items-center bg-white'\n      style={{\n        position: 'absolute',\n        top: top ? top : fullheader ? '80px' : '40px',\n        bottom: 0,\n        left: 0,\n        right: 0,\n        zIndex: 999\n      }}\n    >\n      <Spinner type='grow' color='dark' />\n    </div>\n  );\n};\n\nexport default Loader;\n","import React from \"react\";\nimport { withRouter } from \"react-router-dom\";\n\nconst Landing = ({ history }) => {\n  const goToHome = () => {\n    history.push(`/chemical`);\n  };\n\n  return (\n    <div className=\"landing-container\">\n      <div className=\"landing-upper-container\">\n        <div className=\"landing-upper-content\">\n          <div className=\"landing-logo-container\">\n            <img src=\"images/logo-white.svg\" width=\"350px\" alt=\"logo\" />\n          </div>\n          <div className=\"landing-text-container\">\n            <div className=\"w-100 landing-text-container-upper\">\n              The everyday lives of contemporary youth are awash with chemicals\n              to boost pleasure, moods, sexual performance, appearance and\n              health. What do pills, drinks, sprays, powders and lotions do for\n              youth? What effects are they seeking? How can we understand the\n              ways chemicals affect young bodies and minds? <br />\n              <br />\n              Instead of focusing on illegal drug use with the purpose of\n              controlling it, we study the pervasive use of chemicals in\n              everyday life  ethnographically, from the perspective of youth\n              themselves.\n            </div>\n            <div\n              className=\"landing-text-container-lower\"\n              style={{ marginRight: \"2%\" }}\n            >\n              We draw on medical anthropology and studies of science, technology\n              and contemporary youth culture to research the lived effects of\n              chemicals. By lived effects, we mean the combination of\n              chemicals pharmaceutical properties, beliefs and expectations\n              surrounding their use, and users experimentation with various\n              techniques. Our ethnographic fieldwork, based on participant\n              observation and long-term immersion in the field, takes place in\n              the Netherlands, France, Indonesia and the Philippines.\n            </div>\n            <div\n              className=\"landing-text-container-lower\"\n              style={{ marginLeft: \"2%\" }}\n            >\n              This website is dynamic, experimental and rich, like the methods\n              used and insights produced during our innovative, tentacular\n              project.\n              <br />\n              <br />\n              The first phase of ChemicalYouth has ended, but our work continues\n              and this website will keep growing. We have many publications in\n              the oven, and numerous small and big projects are still in the\n              works. It is likely that you will find something new every time\n              you visit us.\n            </div>\n          </div>\n          <div className=\"landing-link link\" onClick={() => goToHome()}>\n            EXPLORE THE PROJECT\n            <span>\n              <img src=\"images/arrow-right.svg\" width=\"20px\" alt=\"arrow\" />\n            </span>\n          </div>\n        </div>\n      </div>\n      <div className=\"landing-lower\">\n        <div className=\"landing-lower-container\">\n          <div className=\"landing-lower-text\">\n            The ChemicalYouth project is based at the University of Amsterdam\n            and received 5 years of funding from the European Research Council\n            (2013-2018).\n          </div>\n          <div>\n            <img\n              src=\"images/aissr_logoblokjesite_GRAY.png\"\n              height=\"80px\"\n              alt=\"logo\"\n            />\n          </div>\n          <div>\n            <img src=\"images/uvalogo_tag_p.png\" height=\"80px\" alt=\"logo\" />\n          </div>\n          <div>\n            <img src=\"images/LOGO_ERC.png\" height=\"80px\" alt=\"logo\" />\n          </div>\n          <div className=\"landing-lower-text\">\n            This website is designed and developed by Calibro. Project team:\n            Lorem ipsum, dolor sit amet, other sui, lorem dolor, ather examples.\n          </div>\n          <div>\n            <img src=\"images/LOGO_ERC.png\" height=\"80px\" alt=\"logo\" />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default withRouter(Landing);\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { AppContext } from \"../appContext\";\nimport {\n  Collapse,\n  Navbar,\n  NavbarToggler,\n  NavbarBrand,\n  Nav,\n  NavItem\n} from \"reactstrap\";\nimport { withRouter } from \"react-router-dom\";\nimport { withGetScreen } from \"react-getscreen\";\n\nconst Header = ({ history, expanded = true, isMobile }) => {\n  const context = useContext(AppContext);\n  const [isOpen, toggleOpen] = useState(false);\n\n  useEffect(() => {\n    const pathname = history.location.pathname.split(\"/\");\n    context.setSection(pathname[1]);\n  }, [history.location.pathname]);\n\n  const changeSection = section => {\n    context.setSection(section);\n    context.selected = [];\n    history.push(`/${section}`);\n  };\n\n  const goToLanding = () => {\n    history.push(`/`);\n  };\n\n  return (\n    <Navbar\n      color=\"light\"\n      light\n      sticky=\"top\"\n      expand=\"md\"\n      className=\"header\"\n      style={{ height: isMobile() ? \"auto\" : expanded ? \"70px\" : \"12px\" }}\n    >\n      {expanded && (\n        <React.Fragment>\n          <NavbarBrand>\n            <div\n              className={`navbar-brand cursor-pointer`}\n              onClick={() => goToLanding()}\n            >\n              <img src=\"images/logo-white.svg\" width={60} alt=\"logo\" />\n            </div>\n          </NavbarBrand>\n          <NavbarToggler onClick={() => toggleOpen(!isOpen)} />\n          <Collapse isOpen={isOpen} navbar>\n            <Nav className=\"\" navbar>\n              <NavItem className=\"nav-item\">\n                <div className={`header-el-not-link`}>View by:</div>\n              </NavItem>\n              <NavItem\n                className=\"nav-item\"\n                onClick={() => changeSection(\"chemical\")}\n              >\n                <div\n                  className={`header-el ${\n                    context.section === \"chemical\" ? \"underline\" : \"none\"\n                  }`}\n                >\n                  CHEMICAL\n                </div>\n              </NavItem>\n              <NavItem\n                className=\"nav-item\"\n                onClick={() => changeSection(\"topic\")}\n              >\n                <div\n                  className={`header-el ${\n                    context.section === \"topic\" ? \"underline\" : \"none\"\n                  }`}\n                >\n                  TOPIC\n                </div>\n              </NavItem>\n              <NavItem\n                className=\"nav-item\"\n                onClick={() => changeSection(\"location\")}\n              >\n                <div\n                  className={`header-el ${\n                    context.section === \"location\" ? \"underline\" : \"none\"\n                  }`}\n                >\n                  LOCATION\n                </div>\n              </NavItem>\n              <NavItem\n                className=\"nav-item\"\n                onClick={() => changeSection(\"researcher\")}\n              >\n                <div\n                  className={`header-el ${\n                    context.section === \"researcher\" ? \"underline\" : \"none\"\n                  }`}\n                >\n                  RESEARCHER\n                </div>\n              </NavItem>\n              <NavItem\n                className=\"nav-item d-none d-md-block\"\n                onClick={() => changeSection(\"time\")}\n              >\n                <div\n                  className={`header-el ${\n                    context.section === \"time\" ? \"underline\" : \"none\"\n                  }`}\n                >\n                  TIME\n                </div>\n              </NavItem>\n              <NavItem\n                className=\"nav-item\"\n                onClick={() => changeSection(\"method\")}\n              >\n                <div\n                  className={`header-el ${\n                    context.section === \"method\" ? \"underline\" : \"none\"\n                  }`}\n                >\n                  METHOD\n                </div>\n              </NavItem>\n            </Nav>\n          </Collapse>\n        </React.Fragment>\n      )}\n    </Navbar>\n  );\n};\n\nexport default withGetScreen(withRouter(Header));\n","import React, { Component } from \"react\";\nimport Autocomplete from \"react-autocomplete\";\nimport { AppContext } from \"../appContext\";\n\nclass Search extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      value: \"\"\n    };\n  }\n\n  matchStateToTerm = (elem, value) => {\n    if (value.length > 0) {\n      if (this.props.objectKey) {\n        return (\n          elem[this.props.objectKey]\n            .toLowerCase()\n            .indexOf(value.toLowerCase()) !== -1\n        );\n      } else {\n        return elem.name.toLowerCase().indexOf(value.toLowerCase()) !== -1;\n      }\n    }\n  };\n\n  render() {\n    const { items, type, selectionCallBack, objectKey } = this.props;\n    const { value } = this.state;\n\n    return (\n      <div className=\"autocomplete-container\">\n        <img\n          alt=\"magnify\"\n          src=\"images/magnify.svg\"\n          width={20}\n          className=\"autocomplete-icon\"\n        />\n        <Autocomplete\n          getItemValue={item => (objectKey ? item[objectKey] : item.name)}\n          items={items}\n          inputProps={{\n            className: \"autocomplete-input\",\n            placeholder: `Search ${type}`\n          }}\n          wrapperStyle={{\n            position: \"relative\"\n          }}\n          menuStyle={{\n            backgroundColor: \"white\",\n            position: \"absolute\",\n            zIndex: 999,\n            top: 33,\n            left: 0,\n            maxHeight: \"500px\",\n            overflow: \"auto\"\n          }}\n          open={true}\n          renderItem={(item, isHighlighted) => (\n            <div\n              key={item.name}\n              style={{\n                padding: \"10px\",\n                borderBottom: \"1px solid #d7d7d7\",\n                cursor: \"pointer\",\n                opacity: this.context.selected.some(e => e.value === item.name)\n                  ? 0.5\n                  : 1\n              }}\n              className={`hover-el`}\n            >\n              {objectKey ? item[objectKey] : item.name}\n            </div>\n          )}\n          value={value}\n          shouldItemRender={this.matchStateToTerm}\n          onChange={(event, value) => this.setState({ value: value })}\n          onSelect={val => {\n            selectionCallBack(type, val);\n            this.setState({ value: \"\" });\n          }}\n          isItemSelectable={item => {\n            return !this.context.selected.some(e => e.value === item.name);\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nSearch.contextType = AppContext;\n\nexport default Search;\n","import React, { Component } from \"react\";\nimport { findDOMNode } from \"react-dom\";\nimport {\n  forceSimulation,\n  forceManyBody,\n  forceCenter,\n  forceCollide\n} from \"d3-force\";\nimport { scaleSqrt } from \"d3-scale\";\nimport { max as d3Max } from \"d3-array\";\nimport ReactTooltip from \"react-tooltip\";\n\nconst radiusScale = scaleSqrt().range([5, 35]);\n\nclass ChemicalsViz extends Component {\n  state = {\n    nodes: [],\n    activeState: null\n  };\n\n  simulation = null;\n\n  componentDidMount() {\n    if (this.props.width && this.props.height) {\n      this.setUpForceLayout(\n        this.props.chemicals,\n        this.props.width,\n        this.props.height\n      );\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (\n      nextProps.width &&\n      nextProps.height &&\n      (nextProps.width !== this.props.width ||\n        nextProps.height !== this.props.height ||\n        nextProps.chemicals.length !== this.props.chemicals.length)\n    ) {\n      this.setUpForceLayout(\n        nextProps.chemicals,\n        nextProps.width,\n        nextProps.height\n      );\n    }\n  }\n\n  componentWillUnmount() {\n    this.setState({ nodes: [] });\n    this.simulation.stop();\n  }\n\n  setUpForceLayout = (res, width, height) => {\n    //const [min, max] = extent(res, d => d.relatedProjects);\n    const max = d3Max(res, d => d.relatedProjects);\n    radiusScale.domain([1, max]);\n\n    const simulationNodes = res\n      .filter(r => r.relatedProjects > 0)\n      .sort((a, b) => {\n        return b.relatedProjects - a.relatedProjects;\n      })\n      .map(r => {\n        r.radius = radiusScale(r.relatedProjects);\n        return r;\n      });\n\n    this.simulation = forceSimulation(simulationNodes)\n      .force(\"charge\", forceManyBody().strength(5))\n      .force(\"center\", forceCenter(width / 2, height / 2))\n      .force(\n        \"collision\",\n        forceCollide()\n          .radius(n => n.radius + 10)\n          .strength(1)\n          .iterations(2)\n      )\n      .on(\"tick\", a => {\n        simulationNodes.forEach(function(d) {\n          d.x =\n            d.x < radiusScale(d.relatedProjects)\n              ? radiusScale(d.relatedProjects)\n              : d.x > width - radiusScale(d.relatedProjects)\n              ? width - radiusScale(d.relatedProjects)\n              : d.x;\n\n          d.y =\n            d.y < radiusScale(d.relatedProjects)\n              ? radiusScale(d.relatedProjects)\n              : d.y > height - radiusScale(d.relatedProjects)\n              ? height - radiusScale(d.relatedProjects)\n              : d.y;\n        });\n        this.setState({ nodes: simulationNodes });\n      })\n      .on(\"end\", a => {\n        //this.setState({ nodes: simulationNodes });\n      });\n\n    this.simulation.restart();\n  };\n\n  render() {\n    const { nodes, activeIndex } = this.state;\n    const { width, height, selectChemical, selected } = this.props;\n    return (\n      <svg width={width} height={height}>\n        {nodes\n          .filter(d => d.relatedProjects > 0)\n          .map((node, index) => {\n            return (\n              <g key={index}>\n                <circle\n                  data-tip={\n                    radiusScale(node.relatedProjects) <= 10\n                      ? node.name.toUpperCase()\n                      : \"\"\n                  }\n                  ref={node.name}\n                  cx={node.x}\n                  cy={node.y}\n                  className={`circle ${\n                    selected.indexOf(node.name) > -1 || activeIndex === index\n                      ? \"active\"\n                      : \"\"\n                  }`}\n                  stroke=\"black\"\n                  strokeWidth={1}\n                  r={radiusScale(node.relatedProjects)}\n                  onClick={() => selectChemical(\"chemical\", node.name)}\n                  onMouseEnter={() => {\n                    this.setState({ activeIndex: index });\n                    ReactTooltip.show(findDOMNode(this.refs[node.name]));\n                  }}\n                  onMouseLeave={() => {\n                    this.setState({ activeIndex: null });\n                    ReactTooltip.hide(findDOMNode(this.refs[node.name]));\n                  }}\n                  style={{ cursor: \"pointer\" }}\n                />\n\n                {radiusScale(node.relatedProjects) > 10 && (\n                  <g>\n                    <rect\n                      x={node.x - (node.name.length * 5.2) / 2}\n                      y={node.y - 5}\n                      width={node.name.length * 5.2}\n                      height={10}\n                      className={`rect ${\n                        selected.indexOf(node.name) > -1 ||\n                        activeIndex === index\n                          ? \"active\"\n                          : \"\"\n                      }`}\n                    />\n                    <text\n                      dx={node.x}\n                      dy={node.y}\n                      className={`text ${\n                        selected.indexOf(node.name) > -1 ||\n                        activeIndex === index\n                          ? \"active\"\n                          : \"\"\n                      }`}\n                      textAnchor=\"middle\"\n                    >\n                      {node.name}\n                    </text>\n                  </g>\n                )}\n              </g>\n            );\n          })}\n      </svg>\n    );\n  }\n}\n\nexport default ChemicalsViz;\n","import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport sanityClient from \"../lib/sanity\";\nimport { ParentSize } from \"@vx/responsive\";\nimport ReactTooltip from \"react-tooltip\";\nimport { AppContext } from \"../appContext\";\nimport Search from \"./Search\";\nimport { parseQueryParams } from \"../utils\";\n\nimport ChemicalsViz from \"./ChemicalsViz\";\n\nconst query = `*[_type==\"chemical\"]{\n  name,\n  \"relatedProjects\": count(*[_type=='project' && references(^._id)])\n}`;\n\nclass Chemicals extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      chemicals: [],\n      activeState: null\n    };\n  }\n\n  componentDidMount() {\n    if (this.state.chemicals.length === 0) {\n      sanityClient\n        .fetch(query)\n        .then(res => {\n          this.setState({ chemicals: res });\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    }\n  }\n\n  componentWillUnmount() {\n    // this.setState({ nodes: [] });\n    // this.simulation.stop();\n  }\n\n  selectChemical = (type, value) => {\n    this.context.toggleSelected({ type: type, value: value });\n    const queryParams = parseQueryParams(this.context.selected);\n    this.props.history.push(`/${this.context.section}${queryParams}`);\n  };\n\n  render() {\n    const { chemicals } = this.state;\n    const selected = this.context.selected\n      ? this.context.selected.map(s => s.value)\n      : [];\n    return (\n      <div className=\"viz-container\">\n        <ReactTooltip\n          place=\"top\"\n          theme=\"dark\"\n          effect=\"solid\"\n          className=\"tooltip-extra-class\"\n        />\n        <Search\n          items={chemicals}\n          selectionCallBack={this.selectChemical}\n          type={\"chemical\"}\n        />\n\n        <div className=\"flex-grow-1 flex-shrink-1 overflow-auto d-none d-md-block\">\n          {chemicals && (\n            <ParentSize>\n              {parent => {\n                return (\n                  <ChemicalsViz\n                    width={parent.width}\n                    height={parent.height}\n                    chemicals={chemicals}\n                    selected={selected}\n                    selectChemical={(type, value) =>\n                      this.selectChemical(type, value)\n                    }\n                  />\n                );\n              }}\n            </ParentSize>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst wrappedClass = withRouter(Chemicals);\nwrappedClass.WrappedComponent.contextType = AppContext;\nexport default wrappedClass;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport sanityClient from \"../lib/sanity\";\nimport { scaleLinear } from \"d3-scale\";\nimport { extent } from \"d3-array\";\nimport { AppContext } from \"../appContext\";\nimport Search from \"./Search\";\nimport { parseQueryParams } from \"../utils\";\nimport Loader from \"./Loader\";\n\nconst query = `*[_type==\"topic\"]{\n  _id, name,\n  \"relatedProjects\": count(*[_type=='project' && references(^._id)])\n}`;\n\nconst Topics = ({ type, history }) => {\n  const [topics, setTopics] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [activeIndex, setActiveIndex] = useState(null);\n  const context = useContext(AppContext);\n\n  useEffect(() => {\n    if (topics.length === 0) {\n      sanityClient\n        .fetch(query)\n        .then(res => {\n          handleStatusChange(res);\n          return () => {\n            // Clean up\n          };\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    }\n  }, [type]);\n\n  function handleStatusChange(res) {\n    setTopics(res);\n    setLoading(false);\n  }\n\n  const selectTopic = (type, value) => {\n    context.toggleSelected({ type: type, value: value });\n    const queryParams = parseQueryParams(context.selected);\n    history.push(`/${context.section}${queryParams}`);\n  };\n\n  const selected = context.selected ? context.selected.map(s => s.value) : [];\n\n  const max = extent(topics, d => d.relatedProjects)[1];\n  const wordScale = scaleLinear()\n    .range([10, 36])\n    .domain([0, max]);\n\n  return (\n    <div className=\"viz-container\">\n      {loading && <Loader />}\n      <Search items={topics} selectionCallBack={selectTopic} type={\"topic\"} />\n      <div className=\"flex-wrap align-items-baseline pt-3 overflow-auto flex-grow-1 flex-shrink-1 d-none d-md-flex\">\n        {topics\n          .sort((a, b) => {\n            return b.relatedProjects - a.relatedProjects;\n          })\n          .map((topic, index) => {\n            return (\n              <div\n                className={`position-relative mr-3`}\n                key={index}\n                style={{\n                  height: \"45px\"\n                }}\n                onClick={() => selectTopic(\"topic\", topic.name)}\n                onMouseEnter={() => setActiveIndex(index)}\n                onMouseLeave={() => setActiveIndex(null)}\n              >\n                <div\n                  className=\"cursor-pointer\"\n                  style={{\n                    fontSize: wordScale\n                      ? wordScale(topic.relatedProjects)\n                      : \"10px\",\n                    bottom: \"3px\"\n                  }}\n                >\n                  {topic.name} <sup>{topic.relatedProjects}</sup>\n                </div>\n                <div\n                  className={`topic-block-line ${\n                    selected.indexOf(topic.name) > -1 || activeIndex === index\n                      ? \"active\"\n                      : \"\"\n                  }`}\n                />\n              </div>\n            );\n          })}\n      </div>\n    </div>\n  );\n};\n\nexport default withRouter(Topics);\n","import React, { Component } from \"react\";\nimport { findDOMNode } from \"react-dom\";\nimport {\n  forceSimulation,\n  forceManyBody,\n  forceCenter,\n  forceCollide,\n  forceLink,\n  forceY,\n  forceX\n} from \"d3-force\";\nimport { scaleSqrt } from \"d3-scale\";\nimport { extent } from \"d3-array\";\nimport { groupBy } from \"lodash\";\nimport ReactTooltip from \"react-tooltip\";\n\nconst radiusScale = scaleSqrt().range([5, 35]);\n\nclass ResearchersViz extends Component {\n  state = {\n    nodes: [],\n    links: [],\n    activeIndex: null\n  };\n\n  simulation = null;\n\n  componentDidMount() {\n    if (this.props.width && this.props.height) {\n      this.setUpForceLayout(\n        this.props.researchersNodes,\n        this.props.researchersLinks,\n        this.props.width,\n        this.props.height\n      );\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (\n      nextProps.width &&\n      nextProps.height &&\n      (nextProps.width !== this.props.width ||\n        nextProps.height !== this.props.height ||\n        nextProps.researchersNodes.length !==\n          this.props.researchersNodes.length)\n    ) {\n      this.setUpForceLayout(\n        nextProps.researchersNodes,\n        nextProps.researchersLinks,\n        nextProps.width,\n        nextProps.height\n      );\n    }\n  }\n\n  componentWillUnmount() {\n    this.setState({ nodes: [], links: [] });\n    this.simulation.stop();\n  }\n\n  setUpForceLayout = (researchersNodes, researchersLinks, width, height) => {\n    const [min, max] = extent(researchersNodes, d => d.value);\n    radiusScale.domain([min, max]);\n\n    const simulationNodes = researchersNodes\n      .filter(r => r.value > 0)\n      .map(r => {\n        r.radius = radiusScale(r.value);\n        return r;\n      });\n\n    simulationNodes.forEach(v => {\n      if (v.name === \"Anita Hardon\") {\n        v.fx = width / 2;\n        v.fy = height / 2;\n      }\n    });\n\n    const researchersLinksGrouped = Object.values(groupBy(researchersLinks));\n    const formattedLinks = [];\n\n    researchersLinksGrouped.forEach((value, i) => {\n      const source = researchersNodes.findIndex(v => v.name === value[0][0]);\n      const target = researchersNodes.findIndex(v => v.name === value[0][1]);\n      const weight = value.length;\n\n      formattedLinks.push({ source: source, target: target, weight: weight });\n    });\n\n    this.setState({ links: formattedLinks });\n\n    this.simulation = forceSimulation(simulationNodes)\n      .force(\n        \"charge\",\n        forceManyBody()\n          .strength(-100)\n          .distanceMax(width / 2)\n          .distanceMin(10)\n      )\n      .force(\"link\", forceLink(formattedLinks).strength(d => d.weight * 0.1))\n      .force(\"center\", forceCenter(width / 2, height / 2))\n      .force(\"x\", forceX().strength(0.05))\n      .force(\"y\", forceY().strength(0.05))\n      .force(\n        \"collision\",\n        forceCollide()\n          .radius(n => n.radius + 10)\n          .iterations(3)\n      )\n      .on(\"tick\", a => {\n        simulationNodes.forEach(function(d) {\n          d.x =\n            d.x < radiusScale(d.value)\n              ? radiusScale(d.value) + 5\n              : d.x > width - radiusScale(d.value)\n              ? width - radiusScale(d.value) - 5\n              : d.x;\n          d.y =\n            d.y < radiusScale(d.value)\n              ? radiusScale(d.value) + 5\n              : d.y > height - radiusScale(d.value)\n              ? height - radiusScale(d.value) - 5\n              : d.y;\n        });\n        this.setState({ nodes: simulationNodes });\n      });\n\n    this.simulation.restart();\n  };\n\n  render() {\n    const { nodes, links, activeIndex } = this.state;\n    const { width, height, selectResearcher, selected } = this.props;\n\n    return (\n      <svg width={width} height={height}>\n        {links.map((link, index) => {\n          return (\n            <g key={index}>\n              <line\n                x1={link.source.x}\n                y1={link.source.y}\n                x2={link.target.x}\n                y2={link.target.y}\n                style={{ strokeWidth: link.weight }}\n                stroke=\"black\"\n                opacity=\"0.1\"\n              />\n            </g>\n          );\n        })}\n        {nodes\n          .filter(node => node.value > 0)\n          .map((node, index) => {\n            return (\n              <g key={index}>\n                <circle\n                  data-tip={\n                    radiusScale(node.value) <= 10 ? node.name.toUpperCase() : \"\"\n                  }\n                  ref={node.name}\n                  cx={node.x}\n                  cy={node.y}\n                  className={`circle ${\n                    selected.indexOf(node.name) > -1 || activeIndex === index\n                      ? \"active\"\n                      : \"\"\n                  }`}\n                  stroke=\"black\"\n                  strokeWidth={1}\n                  r={radiusScale(node.value)}\n                  onClick={() => selectResearcher(\"researcher\", node.name)}\n                  onMouseEnter={() => {\n                    this.setState({ activeIndex: index });\n                    ReactTooltip.show(findDOMNode(this.refs[node.name]));\n                  }}\n                  onMouseLeave={() => {\n                    this.setState({ activeIndex: null });\n                    ReactTooltip.hide(findDOMNode(this.refs[node.name]));\n                  }}\n                />\n\n                {radiusScale(node.value) > 10 && (\n                  <g>\n                    <rect\n                      x={node.x - (node.name.length * 5.2) / 2}\n                      y={node.y - 4}\n                      width={node.name.length * 5.2}\n                      height={10}\n                      className={`rect ${\n                        selected.indexOf(node.name) > -1 ||\n                        activeIndex === index\n                          ? \"active\"\n                          : \"\"\n                      }`}\n                    />\n                    <text\n                      dx={node.x}\n                      dy={node.y}\n                      className={`text ${\n                        selected.indexOf(node.name) > -1 ||\n                        activeIndex === index\n                          ? \"active\"\n                          : \"\"\n                      }`}\n                      textAnchor=\"middle\"\n                    >\n                      {node.name}\n                    </text>\n                  </g>\n                )}\n              </g>\n            );\n          })}\n      </svg>\n    );\n  }\n}\n\nexport default ResearchersViz;\n","import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport sanityClient from \"../lib/sanity\";\nimport { flatten } from \"lodash\";\nimport ReactTooltip from \"react-tooltip\";\nimport { AppContext } from \"../appContext\";\nimport Search from \"./Search\";\nimport { parseQueryParams } from \"../utils\";\nimport { ParentSize } from \"@vx/responsive\";\nimport ResearchersViz from \"./ResearchersViz\";\n\nconst query = `*[_type == \"project\"]{\n  \"researchers\": researchers[]->\n}`;\n\nclass Researchers extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      researchers: [],\n      links: [],\n      activeIndex: null\n    };\n  }\n\n  componentDidMount() {\n    if (this.state.researchers.length === 0) {\n      sanityClient\n        .fetch(query)\n        .then(res => {\n          //setUpForceLayout(res);\n          const researchersOccurency = flatten(\n            res.map(r => r.researchers.map(v => v.name))\n          );\n          const researchersCount = researchersOccurency.reduce((prev, cur) => {\n            prev[cur] = (prev[cur] || 0) + 1;\n            return prev;\n          }, {});\n          const nodes = Object.entries(researchersCount).map(v => {\n            return { name: v[0], value: v[1] };\n          });\n\n          const projects = res.map(r => r.researchers.map(v => v.name));\n\n          let links = [];\n\n          projects.forEach((researchers, index) => {\n            const length = researchers.length;\n            for (let i = 0; i < length; i++) {\n              const researcher1 = researchers[0];\n              const remainingResearchers = researchers;\n              remainingResearchers.splice(0, 1);\n\n              if (remainingResearchers.length > 0) {\n                for (let j = 0; j < remainingResearchers.length; j++) {\n                  const researcher2 = remainingResearchers[j];\n                  const sortedResearchers = [researcher1, researcher2].sort();\n\n                  links.push(sortedResearchers);\n                }\n              }\n            }\n          });\n\n          this.setState({ researchers: nodes, links: links });\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    }\n  }\n\n  selectResearcher = (type, value) => {\n    this.context.toggleSelected({ type: type, value: value });\n    const queryParams = parseQueryParams(this.context.selected);\n    this.props.history.push(`/${this.context.section}${queryParams}`);\n  };\n\n  render() {\n    const { links, researchers } = this.state;\n    const selected = this.context.selected\n      ? this.context.selected.map(s => s.value)\n      : [];\n    return (\n      <div className=\"viz-container\">\n        <ReactTooltip\n          place=\"top\"\n          theme=\"dark\"\n          effect=\"solid\"\n          className=\"tooltip-extra-class\"\n        />\n        <Search\n          items={researchers}\n          selectionCallBack={this.selectResearcher}\n          type={\"researcher\"}\n        />\n        <div className=\"flex-grow-1 flex-shrink-1 overflow-auto d-none d-md-block\">\n          {researchers && (\n            <ParentSize>\n              {parent => {\n                return (\n                  <ResearchersViz\n                    width={parent.width}\n                    height={parent.height}\n                    researchersNodes={researchers}\n                    researchersLinks={links}\n                    selected={selected}\n                    selectResearcher={(type, value) =>\n                      this.selectResearcher(type, value)\n                    }\n                  />\n                );\n              }}\n            </ParentSize>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst wrappedClass = withRouter(Researchers);\nwrappedClass.WrappedComponent.contextType = AppContext;\nexport default wrappedClass;\n","import React from \"react\";\n\nconst Location = ({\n  coordinates,\n  zoom,\n  country,\n  city,\n  callbackClick,\n  selected,\n  setActiveIndex,\n  activeIndex,\n  index\n}) => {\n  return (\n    <div\n      className={`location-block overflow-hidden ${\n        selected.indexOf(city) > -1 || activeIndex === index ? \"active\" : \"\"\n      }`}\n      onClick={() => callbackClick(\"location\", city)}\n      onMouseEnter={() => setActiveIndex(index)}\n      onMouseLeave={() => setActiveIndex(null)}\n    >\n      <div\n        className=\"location-map\"\n        style={{\n          height: \"100%\",\n          width: \"100%\",\n          position: \"absolute\",\n          backgroundImage: `url(https://api.mapbox.com/styles/v1/gabrielecolombo/cjsnc1pt701yf1fmoasvam9wv/static/${\n            coordinates.lng\n          },${\n            coordinates.lat\n          },${zoom},0,0/600x600?access_token=pk.eyJ1IjoiZ2FicmllbGVjb2xvbWJvIiwiYSI6ImNpdGZqNWY1MjAwZWUyeW1qbDhkZHV2OXMifQ.Nem-UVIW-71T6yQQvjrtog)`\n        }}\n      />\n      <div className=\"location-text\">\n        <div className=\"location-country\">{country}</div>\n        <div className={`location-city`}>{city}</div>\n      </div>\n    </div>\n  );\n};\n\nexport default Location;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport sanityClient from \"../lib/sanity\";\nimport { ScrollToHOC, ScrollArea } from \"react-scroll-to\";\nimport Location from \"./Location\";\nimport { AppContext } from \"../appContext\";\nimport Search from \"./Search\";\nimport Loader from \"./Loader\";\nimport { parseQueryParams } from \"../utils\";\n\nconst query = `*[_type == \"location\"]{\n  _id, city, coordinates, zoom, priority,\n  country->,\n  \"relatedProjects\": count(*[_type=='project' && references(^._id)])\n}`;\n\nlet offsets = {};\n\nconst Locations = ({ type, history, scrollTo }) => {\n  const [locations, setLocations] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [activeIndex, setActiveIndex] = useState(null);\n  const context = useContext(AppContext);\n  useEffect(() => {\n    if (locations.length === 0) {\n      sanityClient\n        .fetch(query)\n        .then(res => {\n          handleStatusChange(res);\n          return () => {\n            // Clean up\n          };\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    }\n  }, [type]);\n\n  const handleStatusChange = res => {\n    setLocations(res);\n    res\n      .filter(v => v.coordinates.lat)\n      .forEach((v, i) => {\n        offsets[v.city] = getYOffset(i);\n      });\n    setLoading(false);\n  };\n\n  const selectLocation = (type, value) => {\n    context.toggleSelected({ type: type, value: value });\n    const queryParams = parseQueryParams(context.selected);\n    history.push(`/${context.section}${queryParams}`);\n    scrollTo({ id: \"locations\", y: offsets[value], smooth: true });\n  };\n\n  const getYOffset = index => {\n    const rowHeight = (window.innerWidth / 100) * 16;\n    return Math.floor(index / 3) * rowHeight;\n  };\n\n  return (\n    <div className=\"viz-container\">\n      {loading && <Loader />}\n      <Search\n        items={locations}\n        selectionCallBack={selectLocation}\n        type={\"location\"}\n        objectKey={\"city\"}\n      />\n      <ScrollArea\n        id=\"locations\"\n        className=\"overflow-auto flex-grow-1 flex-shrink-1 d-none d-md-block\"\n      >\n        <div className=\"w-100 d-flex flex-wrap mt-4\">\n          {locations\n            .sort((a, b) => {\n              const aPriority = a.priority || false;\n              const bPriority = b.priority || false;\n              return bPriority - aPriority;\n            })\n            .filter(d => d.coordinates.lat)\n            .map((location, index) => {\n              return (\n                <Location\n                  key={index}\n                  index={index}\n                  activeIndex={activeIndex}\n                  coordinates={location.coordinates}\n                  y={() => getYOffset(index)}\n                  zoom={location.zoom}\n                  country={location.country.name}\n                  city={location.city}\n                  callbackClick={selectLocation}\n                  selected={\n                    context.selected ? context.selected.map(s => s.value) : []\n                  }\n                  setActiveIndex={setActiveIndex}\n                />\n              );\n            })}\n        </div>\n      </ScrollArea>\n    </div>\n  );\n};\n\nexport default ScrollToHOC(withRouter(Locations));\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport sanityClient from \"../lib/sanity\";\nimport { scaleLinear } from \"d3-scale\";\nimport { extent } from \"d3-array\";\nimport { AppContext } from \"../appContext\";\nimport Search from \"./Search\";\nimport { parseQueryParams } from \"../utils\";\n\nconst query = `*[_type == \"methodology\"]{\n  _id, name,\n  \"relatedProjects\": count(*[_type=='project' && references(^._id)])\n}`;\n\nconst Methodologies = ({ type, history }) => {\n  const [methodologies, setMethodologies] = useState([]);\n  const context = useContext(AppContext);\n\n  useEffect(() => {\n    if (methodologies.length === 0) {\n      sanityClient\n        .fetch(query)\n        .then(res => {\n          handleStatusChange(res);\n          return () => {\n            // Clean up\n          };\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    }\n  }, [type]);\n\n  const handleStatusChange = res => {\n    setMethodologies(res);\n  };\n\n  const selectMethod = (type, value) => {\n    context.toggleSelected({ type: type, value: value });\n    const queryParams = parseQueryParams(context.selected);\n    history.push(`/${context.section}${queryParams}`);\n  };\n\n  const max = extent(methodologies, d => d.relatedProjects)[1];\n  const heightScale = scaleLinear()\n    .range([30, 150])\n    .domain([0, max]);\n\n  return (\n    <div className=\"viz-container\">\n      <Search\n        items={methodologies}\n        selectionCallBack={selectMethod}\n        type={\"method\"}\n      />\n      <div className=\"overflow-auto flex-grow-1 flex-shrink-1 d-none d-md-block\">\n        {methodologies\n          .sort((a, b) => b.relatedProjects - a.relatedProjects)\n          .map((methodology, index) => {\n            const selected = context.selected.map(s => s.value);\n            return (\n              <div\n                className={`px-3 method-block ${\n                  selected.indexOf(methodology.name) > -1 ? \"active\" : \"\"\n                }`}\n                key={index}\n                style={{\n                  height: `${heightScale(methodology.relatedProjects)}px`\n                }}\n                onClick={() => selectMethod(\"method\", methodology.name)}\n              >\n                {methodology.relatedProjects} {methodology.name}\n              </div>\n            );\n          })}\n      </div>\n    </div>\n  );\n};\n\nexport default withRouter(Methodologies);\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport sanityClient from \"../lib/sanity\";\nimport { scaleOrdinal, scaleLinear } from \"d3-scale\";\nimport { groupBy } from \"lodash\";\nimport { AppContext } from \"../appContext\";\nimport { timeLabels, quantizeTime } from \"../timeUtils\";\nimport { parseQueryParams } from \"../utils\";\nimport Responsive from \"react-responsive\";\n\nconst query = `*[_type == \"project\"]{\n  endDate, startDate\n}`;\n\nconst monthDiff = (d1, d2) => {\n  var months;\n  months = (d2.getFullYear() - d1.getFullYear()) * 12;\n  months -= d1.getMonth() + 1;\n  months += d2.getMonth();\n  return months <= 0 ? 0 : months;\n};\n\nconst Times = ({ type, history }) => {\n  const [times, setTimes] = useState([]);\n  const [derivedTimes, setDerivedTimes] = useState();\n  const context = useContext(AppContext);\n\n  // Similar to componentDidMount and componentDidUpdate:\n  useEffect(() => {\n    if (times.length === 0) {\n      sanityClient\n        .fetch(query)\n        .then(res => {\n          handleStatusChange(res);\n          return () => {\n            // Clean up\n          };\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    }\n  }, [type]);\n\n  const handleStatusChange = res => {\n    const derivedTimes = res.map((time, index) => {\n      const diff = monthDiff(new Date(time.startDate), new Date(time.endDate));\n      time.months = quantizeTime(diff);\n      return time;\n    });\n    setDerivedTimes(derivedTimes);\n\n    const sortedTimes = derivedTimes.sort((a, b) => a.months - b.months);\n    const groupedByTimes = Object.values(groupBy(sortedTimes, el => el.months));\n\n    setTimes(groupedByTimes.reverse());\n  };\n\n  const selectTime = (type, value) => {\n    context.toggleSelected({ type: type, value: value });\n    const queryParams = parseQueryParams(context.selected);\n    history.push(`/${context.section}${queryParams}`);\n  };\n\n  const selected = context.selected.map(s => s.value);\n\n  // const widthScale = scaleOrdinal()\n  //   .range([50, 60, 70, 80, 90, 100])\n  //   .domain([0, 3, 6, 12, 24, 36]);\n\n  const widthScale = scaleLinear()\n    .range([12, 20, 35, 65, 95, 100])\n    .domain([0, 3, 6, 12, 24, 36]);\n\n  const sum = times.reduce((a, b) => {\n    return a + b.length;\n  }, 0);\n\n  return (\n    <div className=\"viz-container\">\n      {/* <Search items={times} selectionCallBack={selectTime} type={'time'} /> */}\n      <Responsive minWidth={768}>\n        <div className=\"w-100 pt-3 overflow-auto flex-grow-1 flex-shrink-1 d-none d-md-block\">\n          {times.map((time, index) => {\n            const duration = time[0].months;\n            return duration >= 12 ? (\n              <div\n                key={index}\n                className={`px-3 time-block d-flex align-items-center justify-content-between ${\n                  selected.indexOf(duration) > -1 ? \"active\" : \"\"\n                }`}\n                style={{\n                  width: `${widthScale(duration)}%`,\n                  height: `${Math.floor((time.length / sum) * 100)}%`,\n                  borderTop: index === 0 ? \"1px solid #d7d7d7\" : \"none\"\n                }}\n                onClick={() => selectTime(\"time\", duration)}\n              >\n                <div>{`${time.length} projects`}</div>\n                <div>{`${timeLabels[duration]}`}</div>\n              </div>\n            ) : (\n              <div\n                key={index}\n                style={{\n                  height: `${Math.floor((time.length / sum) * 100)}%`,\n                  width: \"100%\"\n                }}\n                className=\" d-flex align-items-center\"\n              >\n                <div\n                  className={`px-3 time-block h-100 d-flex align-items-center ${\n                    selected.indexOf(duration) > -1 ? \"active\" : \"\"\n                  }`}\n                  style={{\n                    width: `${widthScale(duration)}%`,\n                    borderTop: index === 0 ? \"1px solid #d7d7d7\" : \"none\"\n                  }}\n                  onClick={() => selectTime(\"time\", duration)}\n                >\n                  <div>{`${time.length} projects`}</div>\n                </div>\n                <div className=\"ml-2\">{`${timeLabels[duration]}`}</div>\n              </div>\n            );\n          })}\n        </div>\n      </Responsive>\n    </div>\n  );\n};\n\nexport default withRouter(Times);\n","import React, { Component } from 'react';\nimport queryString from 'query-string';\nimport Header from '../Header';\nimport Chemicals from '../Chemicals';\nimport Topics from '../Topics';\nimport Researchers from '../Researchers';\nimport Locations from '../Locations';\nimport Methodologies from '../Methodologies';\nimport Times from '../Times';\nimport Loader from '../Loader';\nimport { AppContext } from '../../appContext';\nimport { find, findIndex } from 'lodash';\nimport styles from './Home.module.css';\n\nconst Projects = React.lazy(() => import('../Projects'));\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      section: 'chemical',\n      setSection: this.setSection,\n      selectedChemical: '',\n      setSelectedChemical: this.setSelectedChemical,\n      selectedLocation: '',\n      setSelectedLocation: this.setSelectedLocation,\n      selectedTopic: '',\n      setSelectedTopic: this.setSelectedTopic,\n      selected: [],\n      setSelected: this.setSelected,\n      toggleSelected: this.toggleSelected\n    };\n  }\n\n  setSelectedLocation = location => {\n    this.setState({\n      selectedLocation: location === this.state.selectedLocation ? '' : location\n    });\n  };\n\n  setSelectedTopic = topic => {\n    this.setState({\n      selectedTopic: topic === this.state.selectedTopic ? '' : topic\n    });\n  };\n\n  setSelectedChemical = chemical => {\n    this.setState({\n      selectedChemical: chemical === this.state.selectedChemical ? '' : chemical\n    });\n  };\n\n  setSection = section => {\n    this.setState({\n      section: section\n    });\n  };\n\n  setSelected = selected => {\n    console.log(selected);\n    this.setState({\n      selected: selected\n    });\n  };\n\n  toggleSelected = selected => {\n    const selectedArray = this.state.selected;\n    if (selected.type && selected.value !== null) {\n      if (find(selectedArray, selected)) {\n        const index = findIndex(selectedArray, selected);\n        selectedArray.splice(index, 1);\n      } else {\n        selectedArray.push(selected);\n      }\n      this.setState({\n        selected: selectedArray\n      });\n    }\n  };\n\n  componentDidMount() {\n    const pathname = this.props.location.pathname.split('/');\n    this.setSection(pathname[1]);\n    const parsed = queryString.parse(this.props.location.search);\n\n    if (parsed.selected) {\n      const parsedArray = parsed.selected.split(',');\n\n      if (parsedArray.length) {\n        parsedArray.forEach(p => {\n          const selected = {\n            type: pathname[1],\n            value: pathname[1] === 'time' ? Number(p) : p\n          };\n          this.toggleSelected(selected);\n        });\n      }\n    }\n  }\n\n  render() {\n    const pathname = this.props.location.pathname.split('/')[1];\n    return (\n      <AppContext.Provider value={this.state}>\n        <React.Suspense fallback={<Loader />}>\n          <Header />\n          <div className={`container-fluid ${styles['split']}`}>\n            <div className='row h-100'>\n              <div className={`col-12 col-md-6 ${styles['col-viz']}`}>\n                {pathname === 'chemical' && <Chemicals />}\n                {pathname === 'topic' && <Topics />}\n                {pathname === 'location' && <Locations />}\n                {pathname === 'researcher' && <Researchers />}\n                {pathname === 'time' && <Times />}\n                {pathname === 'method' && <Methodologies />}\n              </div>\n              <div className={`col-12 col-md-6 ${styles['col-projects']}`}>\n                <Projects />\n              </div>\n            </div>\n          </div>\n        </React.Suspense>\n      </AppContext.Provider>\n    );\n  }\n}\n\nHome.contextType = AppContext;\n\nexport default Home;\n","import React, { useContext } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { AppContext } from \"../../appContext\";\nimport styles from \"./ProjectPageSideBar.module.css\";\n\nconst Project = ({ type, elements, objectKey, history }) => {\n  const context = useContext(AppContext);\n\n  const changeSection = (type, name) => {\n    context.setSelected({ type: type, value: name });\n    history.push(`/${type}?selected=${name}`);\n  };\n\n  return (\n    <div className=\"d-flex flex-wrap\">\n      {elements ? (\n        elements.map((el, index) => {\n          const name = objectKey ? el[objectKey] : el.name;\n          return (\n            <React.Fragment key={index}>\n              <div className={`${styles[\"list-el\"]} mr-1 link`}>\n                <div onClick={() => changeSection(type, name)}>{name}</div>\n              </div>\n              <span className={`${styles[\"list-el\"]} mr-1`}>\n                {index < elements.length - 1 ? \"|\" : \"\"}\n              </span>\n            </React.Fragment>\n          );\n        })\n      ) : (\n        <div className={`${styles[\"list-el\"]} mr-1`}>Not found</div>\n      )}\n    </div>\n  );\n};\n\nexport default withRouter(Project);\n","import React from \"react\";\nimport List from \"./List\";\nimport styles from \"./ProjectPageSideBar.module.css\";\n\nconst ProjectPageSideBar = ({ project }) => {\n  return (\n    <div className={`${styles[\"right-column\"]} my-4`}>\n      <div className=\"mb-4\">\n        <div className={styles[\"list-title\"]}>LOCATIONS</div>\n        <List type={\"location\"} elements={project.places} objectKey={\"city\"} />\n      </div>\n      <div className=\"mb-4\">\n        <div className={styles[\"list-title\"]}>CHEMICALS</div>\n        <List type={\"chemical\"} elements={project.chemicals} />\n      </div>\n      <div className=\"mb-4\">\n        <div className={styles[\"list-title\"]}>METHODS</div>\n        <List type={\"method\"} elements={project.methods} />\n      </div>\n      <div>\n        <div className={styles[\"list-title\"]}>TOPICS</div>\n        <div className=\"d-flex flex-wrap\">\n          <List type={\"topic\"} elements={project.topics} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProjectPageSideBar;\n","import React from \"react\";\nimport { withGetScreen } from \"react-getscreen\";\n\nconst Video = ({ url, isMobile }) => {\n  const videoId = url.split(\"/\")[3];\n\n  return (\n    <div className=\"embed-responsive embed-responsive-16by9 mb-4\">\n      <iframe\n        className=\"embed-responsive-item\"\n        title=\"project-video\"\n        src={`https://player.vimeo.com/video/${videoId}`}\n        frameBorder=\"0\"\n        allowFullScreen\n      />\n    </div>\n  );\n};\n\nexport default withGetScreen(Video);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport asyncLoading from \"react-async-loader\";\n\nclass ReactStreetview extends React.Component {\n  constructor() {\n    super();\n    this.streetView = null;\n  }\n\n  initialize(canvas) {\n    if (this.props.googleMaps) {\n      this.streetView = new this.props.googleMaps.StreetViewPanorama(\n        canvas,\n        this.props.streetViewPanoramaOptions\n      );\n\n      this.streetView.addListener(\"position_changed\", () => {\n        if (this.props.onPositionChanged) {\n          this.props.onPositionChanged(this.streetView.getPosition());\n        }\n      });\n\n      this.streetView.addListener(\"pov_changed\", () => {\n        if (this.props.onPovChanged) {\n          this.props.onPovChanged(this.streetView.getPov());\n        }\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.initialize(ReactDOM.findDOMNode(this));\n  }\n\n  componentDidUpdate() {\n    this.initialize(ReactDOM.findDOMNode(this));\n  }\n  componentWillUnmount() {\n    if (this.streetView) {\n      this.props.googleMaps.event.clearInstanceListeners(this.streetView);\n    }\n  }\n\n  render() {\n    return (\n      <div\n        style={{\n          height: \"100%\"\n        }}\n      />\n    );\n  }\n}\n\nReactStreetview.propTypes = {\n  apiKey: PropTypes.string.isRequired,\n  streetViewPanoramaOptions: PropTypes.object.isRequired,\n  onPositionChanged: PropTypes.func,\n  onPovChanged: PropTypes.func\n};\n\nReactStreetview.defaultProps = {\n  streetViewPanoramaOptions: {\n    position: { lat: 46.9171876, lng: 17.8951832 },\n    pov: { heading: 0, pitch: 0 },\n    zoom: 1\n  }\n};\n\nfunction mapScriptsToProps(props) {\n  const googleMapsApiKey = props.apiKey;\n  return {\n    googleMaps: {\n      globalPath: \"google.maps\",\n      url: \"https://maps.googleapis.com/maps/api/js?key=\" + googleMapsApiKey,\n      jsonp: true\n    }\n  };\n}\n\nexport default asyncLoading(mapScriptsToProps)(ReactStreetview);\n","import React from \"react\";\nimport ReactMapboxGl, { Cluster, Marker, ZoomControl } from \"react-mapbox-gl\";\n\nconst styles = {\n  clusterMarker: {\n    width: 50,\n    height: 50,\n    borderRadius: \"50%\",\n    backgroundColor: \"white\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    color: \"black\",\n    border: \"2px solid black\",\n    cursor: \"pointer\"\n  },\n  marker: {\n    width: 25,\n    height: 25,\n    borderRadius: \"50%\",\n    backgroundColor: \"#ffffff\",\n    border: \"2px solid #000000\",\n    cursor: \"pointer\"\n  },\n  markerSelected: {\n    width: 25,\n    height: 25,\n    borderRadius: \"50%\",\n    backgroundColor: \"#000000\",\n    alignItems: \"center\",\n    border: \"2px solid #ffffff\",\n    cursor: \"pointer\"\n  }\n};\n\nconst Map = ReactMapboxGl({\n  accessToken:\n    \"pk.eyJ1IjoiZ2FicmllbGVjb2xvbWJvIiwiYSI6ImNpdGZqNWY1MjAwZWUyeW1qbDhkZHV2OXMifQ.Nem-UVIW-71T6yQQvjrtog\",\n  scrollZoom: false\n});\n\nexport default class SpecialProjectMap extends React.Component {\n  constructor(props) {\n    super(props);\n    this.map = null;\n    this.mapZoom = 16;\n  }\n  clusterClick = index => {\n    this.props.setSelectedIndex(index);\n  };\n\n  clusterMarker = (coordinates, pointCount) => {\n    return (\n      <Marker\n        key={coordinates.toString()}\n        coordinates={coordinates}\n        style={styles.clusterMarker}\n      >\n        {pointCount}\n      </Marker>\n    );\n  };\n\n  render() {\n    const { projects, selectedIndex } = this.props;\n    return (\n      <Map\n        ref={m => (this.map = m)}\n        style=\"mapbox://styles/gabrielecolombo/cjsnc1pt701yf1fmoasvam9wv\"\n        containerStyle={{\n          height: \"600px\",\n          width: \"100%\"\n        }}\n        onZoomEnd={z => {\n          const zoom = this.map.state.map.getZoom();\n          this.mapZoom = zoom;\n        }}\n        fitBounds={this.props.bounds}\n        fitBoundsOptions={{\n          padding: { top: 80, bottom: 80, left: 15, right: 15 }\n        }}\n        zoom={[this.mapZoom]}\n        center={[\n          projects && projects[selectedIndex]\n            ? projects[selectedIndex].coordinates.lng\n            : -0.2416815,\n          projects && projects[selectedIndex]\n            ? projects[selectedIndex].coordinates.lat\n            : 51.5285582\n        ]}\n      >\n        <ZoomControl />\n        <Cluster ClusterMarkerFactory={this.clusterMarker} zoomOnClick={true}>\n          {projects.map((project, index) => {\n            return (\n              <Marker\n                coordinates={[project.coordinates.lng, project.coordinates.lat]}\n                anchor=\"bottom\"\n                key={project._id}\n                data-feature={project}\n                style={\n                  selectedIndex === index\n                    ? styles.markerSelected\n                    : styles.marker\n                }\n                onClick={() => this.clusterClick(index)}\n              />\n            );\n          })}\n        </Cluster>\n      </Map>\n    );\n  }\n}\n","import React, { useState, useEffect, useContext } from \"react\";\nimport sanityClient from \"../../lib/sanity\";\nimport { AppContext } from \"../../appContext\";\nimport Loader from \"../Loader\";\nimport bbox from \"@turf/bbox\";\nimport { lineString } from \"@turf/helpers\";\nimport ReactStreetview from \"./ReactStreetView\";\nimport SpecialProjectMap from \"./SpecialProjectMap\";\nimport styles from \"./SpecialProject.module.css\";\n\nconst query = `*[_type == \"specialProject1\"]{\n  _id, name, coordinates, stringCoordinates, streetviewUrl, streetviewCoordinates, streetviewHead, streetviewPitch, streetviewZoom,\n  \"images\": images[].asset->url,\n}`;\n\nconst SpecialProject = () => {\n  const [projects, setProjects] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [bounds, setBounds] = useState(null);\n  const [selectedIndex, setSelectedIndex] = useState(9);\n  const context = useContext(AppContext);\n  // Similar to componentDidMount and componentDidUpdate:\n  useEffect(() => {\n    sanityClient\n      .fetch(query)\n      .then(res => {\n        handleStatusChange(res);\n        return () => {\n          // Clean up\n        };\n      })\n      .catch(err => {\n        console.error(err);\n      });\n  }, [context]);\n\n  const handleStatusChange = res => {\n    setProjects(res);\n    setLoading(false);\n\n    const coordinates = res.map(p => {\n      return [p.coordinates.lng, p.coordinates.lat];\n    });\n    const line = lineString(coordinates);\n    const bounds = bbox(line);\n    setBounds(bounds);\n  };\n\n  const googleMapsApiKey = \"AIzaSyB_5l_-YwIQ-wH3tJEQ0SYfclOkPgOpnQc\";\n\n  const activeProject =\n    projects && projects[selectedIndex] ? projects[selectedIndex] : null;\n\n  const streetviewOptions = {\n    position: {\n      lat:\n        activeProject && activeProject.streetviewCoordinates\n          ? activeProject.streetviewCoordinates.lat\n          : 0,\n      lng:\n        activeProject && activeProject.streetviewCoordinates\n          ? activeProject.streetviewCoordinates.lng\n          : 0\n    },\n    pov: {\n      heading:\n        activeProject && activeProject.streetviewHead\n          ? activeProject.streetviewHead\n          : 0,\n      pitch:\n        activeProject && activeProject.streetviewPitch\n          ? activeProject.streetviewPitch\n          : 1\n    },\n    zoom: 1,\n    motionTracking: false,\n    motionTrackingControl: false,\n    linksControl: false,\n    panControl: false,\n    zoomControl: false,\n    addressControl: false,\n    fullscreenControl: false,\n    enableCloseButton: false,\n    disableDefaultUI: true,\n    showRoadLabels: false,\n    clickToGo: false,\n    scrollwheel: false\n  };\n\n  return (\n    <div className=\"row no-gutters border-top\">\n      <div className=\"col-12 col-md-5\">\n        <div className=\"bg-white overflow-auto\" style={{ height: \"600px\" }}>\n          <React.Suspense fallback={<Loader top={\"0px\"} />}>\n            {activeProject && activeProject.streetviewHead && (\n              <div className=\"mb-3 w-100\">\n                <div\n                  style={{\n                    width: \"100%\",\n                    height: \"250px\",\n                    backgroundColor: \"#eeeeee\"\n                  }}\n                >\n                  <ReactStreetview\n                    apiKey={googleMapsApiKey}\n                    streetViewPanoramaOptions={streetviewOptions}\n                  />\n                </div>\n              </div>\n            )}\n            <div className=\"px-4\">\n              <div className={styles.infobox}>\n                <div className={styles.projectPageMapTitle}>\n                  {projects && projects[selectedIndex]\n                    ? projects[selectedIndex].name\n                    : \"\"}\n                </div>\n                <div>\n                  {projects && projects[selectedIndex]\n                    ? projects[selectedIndex].stringCoordinates\n                    : \"\"}\n                </div>\n                <div className={styles.projectPageSectionTitle}>\n                  PICTURES TAKEN\n                </div>\n              </div>\n              {projects &&\n                projects[selectedIndex] &&\n                projects[selectedIndex].images.map((image, index) => {\n                  return (\n                    <img\n                      key={index}\n                      className=\"my-2 img-fluid\"\n                      src={`${image}`}\n                      alt=\"gallery\"\n                    />\n                  );\n                })}\n            </div>\n          </React.Suspense>\n        </div>\n      </div>\n\n      <div className=\"col-12 col-md-7\">\n        <SpecialProjectMap\n          projects={projects}\n          selectedIndex={selectedIndex}\n          setSelectedIndex={setSelectedIndex}\n          bounds={bounds}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default SpecialProject;\n","import React, { useState } from \"react\";\nimport Slider from \"react-slick\";\nimport { withGetScreen } from \"react-getscreen\";\nimport \"./Carousel.css\";\nimport styles from \"./Carousel.module.css\";\n\nconst Carousel = ({ images, isTablet, isMobile }) => {\n  const [activeSlide, setActiveSlide] = useState(0);\n\n  const settings = {\n    dots: false,\n    infinite: true,\n    centerMode: true,\n    slidesToShow: 1,\n    slidesToScroll: 1,\n    adaptiveHeight: true,\n    variableWidth: true,\n    arrows: false,\n    afterChange: current => setActiveSlide(current)\n  };\n\n  let slider = null;\n  const height = isMobile() ? 300 : 600;\n\n  return (\n    <div className={styles[\"carousel\"]}>\n      <div\n        className={`${isMobile() ? styles[\"slider-half\"] : styles[\"slider\"]}`}\n      >\n        <Slider ref={c => (slider = c)} {...settings}>\n          {images.map((image, index) => {\n            return (\n              <div className=\"\" key={index}>\n                <img\n                  alt=\"gallery\"\n                  src={`${image}?h=${height}`}\n                  key={index}\n                  className={styles[\"slider-image\"]}\n                />\n              </div>\n            );\n          })}\n        </Slider>\n      </div>\n      <div className={styles[\"slider-arrows\"]}>\n        <img\n          alt=\"previous\"\n          src=\"images/arrow-left.svg\"\n          width={20}\n          className=\"cursor-pointer\"\n          onClick={() => slider.slickPrev()}\n        />\n        <div>\n          {activeSlide + 1} / {images.length}\n        </div>\n        <img\n          alt=\"next\"\n          src=\"images/arrow-right.svg\"\n          width={20}\n          className=\"cursor-pointer\"\n          onClick={() => slider.slickNext()}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default withGetScreen(Carousel);\n","import React from \"react\";\nimport BlockContent from \"@sanity/block-content-to-react\";\nimport styles from \"./ProjectPage.module.css\";\n\nconst ResourceItem = ({ resource, category, url, toggleModal }) => {\n  return resource.private ? (\n    <span className={styles[\"resource-item\"]} onClick={toggleModal}>\n      <span className={styles[\"resource-category\"]}>{`[${category}]`}</span>\n      <BlockContent\n        blocks={resource.name}\n        className={styles[\"resource-container\"]}\n        renderContainerOnSingleChild={true}\n      />\n    </span>\n  ) : (\n    <a\n      href={url}\n      download\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n      className={styles[\"resource-item\"]}\n    >\n      <span className={styles[\"resource-category\"]}>{`[${category}]`}</span>\n      <BlockContent\n        blocks={resource.name}\n        className={styles[\"resource-container\"]}\n        renderContainerOnSingleChild={true}\n      />\n    </a>\n  );\n};\n\nexport default ResourceItem;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport BlockContent from \"@sanity/block-content-to-react\";\nimport { Collapse, Modal, ModalHeader, ModalBody } from \"reactstrap\";\nimport Disqus from \"disqus-react\";\nimport sanityClient from \"../../lib/sanity\";\nimport { AppContext } from \"../../appContext\";\nimport Header from \"../Header\";\nimport Loader from \"../Loader\";\nimport ProjectPageSideBar from \"../ProjectPageSideBar/\";\nimport Video from \"../Video\";\nimport SpecialProject from \"../SpecialProject/\";\nimport Carousel from \"../Carousel\";\nimport ResourceItem from \"./ResourceItem\";\nimport styles from \"./ProjectPage.module.css\";\n\n// const urlFor = source => {\n//   console.log(builder.image(source));\n//   return builder.image(source);\n// };\n\nconst ProjectPage = ({ history, location }) => {\n  const [project, setProject] = useState([]);\n  const [modal, toggleModal] = useState(false);\n  const [collapse, toggleCollapse] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [selectedRes, setSelectedRes] = useState();\n  const context = useContext(AppContext);\n\n  const slug = location.pathname.split(\"/\")[2];\n  // Similar to componentDidMount and componentDidUpdate:\n  useEffect(() => {\n    const query = `*[_type == \"project\" && slug.current == \"${slug}\"]{\n      _id, title, body, slug, videoUrl,\n      \"mainImage\": mainImage.asset->url,\n      \"topics\": topics[]->,\n      \"chemicals\": chemicals[]->,\n      \"methods\": methodologies[]->,\n      \"places\": place[]->,\n      \"countries\": place[]->country[]->,\n      \"researchers\": researchers[]->,\n      \"internalResources\": internalResources,\n      \"internalResourcesCategories\": internalResources[].category->,\n      \"internalResourcesFiles\": internalResources[].document.asset->,\n      \"externalResources\": externalResources,\n      \"externalResourcesCategories\": externalResources[].category->,\n      \"images\": images[].asset->url,\n    }`;\n\n    sanityClient\n      .fetch(query)\n      .then(res => {\n        handleStatusChange(res);\n        return () => {\n          // Clean up\n        };\n      })\n      .catch(err => {\n        console.error(err);\n      });\n  }, [slug]);\n\n  const handleStatusChange = res => {\n    setProject(res[0]);\n    setLoading(false);\n  };\n\n  const back = () => {\n    if (history.length > 2) {\n      history.goBack();\n    } else {\n      history.push(`/chemical`);\n    }\n  };\n\n  const changeSection = (type, name) => {\n    context.setSelected({ type: type, value: name });\n    history.push(`/${type}?selected=${name}`);\n  };\n\n  const disqusConfig = {\n    url: window.location.href,\n    identifier: project._id,\n    title: project.title\n  };\n\n  const disqusShortname = \"chemicalyouth\";\n\n  return (\n    <React.Fragment>\n      <Header expanded={false} />\n      <div className=\"container\">\n        {loading && <Loader fullheader={false} />}\n        <div className=\"row\">\n          <div className={`${styles[\"close-icon-container\"]} col-12 col-md-1`}>\n            <div className={`${styles[\"close-icon\"]}`} onClick={back}>\n              <i className=\"material-icons\">arrow_back</i>\n            </div>\n          </div>\n          <div className=\"col-12 col-md-11\">\n            <div className=\"row\">\n              <div className=\"col-12 col-md-9\">\n                <div className={styles[\"project-page-title\"]}>\n                  {project.title}\n                </div>\n                <div>\n                  {project.researchers &&\n                    project.researchers.map((researcher, index) => {\n                      return (\n                        <React.Fragment key={index}>\n                          <span\n                            className={`${\n                              styles[\"project-page-researcher\"]\n                            } link py-1 ${index === 0 ? \"mr-2\" : \"mx-2\"}`}\n                            onClick={() =>\n                              changeSection(\"researcher\", researcher.name)\n                            }\n                          >\n                            {researcher.name}\n                          </span>\n                          <span>\n                            {index < project.researchers.length - 1 ? \"|\" : \"\"}\n                          </span>\n                        </React.Fragment>\n                      );\n                    })}\n                </div>\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col-md-9\">\n                {project.mainImage && (\n                  <div className=\"mt-4\">\n                    <img\n                      src={`${project.mainImage}?w=1000&fit=max`}\n                      alt=\"cover\"\n                      width=\"100%\"\n                    />\n                  </div>\n                )}\n                {project.body && project.body[0] && (\n                  <BlockContent\n                    className={`${styles[\"project-page-body\"]} py-4 `}\n                    blocks={project.body}\n                    renderContainerOnSingleChild={true}\n                  />\n                )}\n                {(project.internalResources || project.externalResources) &&\n                  (project.internalResources.length > 0 ||\n                    project.externalResources.length > 0) && (\n                    <div className=\"mb-5\">\n                      <div\n                        className={\n                          styles[\"project-page-section-title-no-padding\"]\n                        }\n                      >\n                        {\"RESOURCES\"}\n                      </div>\n                      {project.internalResources && (\n                        <div className=\"w-100\">\n                          {project.internalResources\n                            .filter(\n                              (el, index) =>\n                                project.internalResourcesFiles[index]\n                            )\n                            .map((el, index) => {\n                              return (\n                                <div\n                                  key={index}\n                                  className={styles[\"project-page-resource\"]}\n                                  onClick={() => setSelectedRes(el.name)}\n                                >\n                                  <ResourceItem\n                                    resource={el}\n                                    category={\n                                      project.internalResourcesCategories[index]\n                                        .name\n                                    }\n                                    url={\n                                      project.internalResourcesFiles[index].url\n                                    }\n                                    toggleModal={() => toggleModal(true)}\n                                  />\n                                </div>\n                              );\n                            })}\n                        </div>\n                      )}\n                      {project.externalResources && (\n                        <div className=\"w-100\">\n                          {project.externalResources\n                            .filter(el => el.linkUrl)\n                            .map((el, index) => {\n                              return (\n                                <div\n                                  key={index}\n                                  className={styles[\"project-page-resource\"]}\n                                >\n                                  <ResourceItem\n                                    resource={el}\n                                    category={\n                                      project.externalResourcesCategories[index]\n                                        .name\n                                    }\n                                    url={el.linkUrl}\n                                  />\n                                </div>\n                              );\n                            })}\n                        </div>\n                      )}\n                    </div>\n                  )}\n              </div>\n              <div className=\"col-12 col-md-3\">\n                <ProjectPageSideBar project={project} />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-12\">\n            {project.images && (\n              <div className={styles[\"project-page-section-title\"]}>\n                {\"IMAGES\"}\n              </div>\n            )}\n            {project.images && <Carousel images={project.images} />}\n            {project.videoUrl && (\n              <div className=\"row\">\n                <div className=\"col-12 offset-md-1 col-md-8\">\n                  <Video url={project.videoUrl} />\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-12 offset-md-1 col-md-8\">\n            <div\n              className={`${\n                styles[\"feedback\"]\n              } border-top border-bottom d-flex align-items-center justify-content-between`}\n              onClick={() => toggleCollapse(!collapse)}\n            >\n              <span>Give us some feedback</span>\n              <span className=\"d-flex\">\n                <i className=\"material-icons\">\n                  {collapse ? \"keyboard_arrow_down\" : \"keyboard_arrow_right\"}\n                </i>\n              </span>\n            </div>\n            <Collapse isOpen={collapse} className=\"mb-3\">\n              {collapse && (\n                <Disqus.DiscussionEmbed\n                  shortname={disqusShortname}\n                  config={disqusConfig}\n                />\n              )}\n            </Collapse>\n          </div>\n        </div>\n      </div>\n\n      {project.slug &&\n        project.slug.current === \"mapping-chemicals-in-cagayan-de-oro\" && (\n          <SpecialProject />\n        )}\n\n      <Modal isOpen={modal} toggle={() => toggleModal(!modal)} className={\"\"}>\n        <ModalHeader toggle={() => toggleModal(!modal)}>\n          This resource is private\n        </ModalHeader>\n        <ModalBody>\n          <p className=\"font-weight-bold\">If you want to access:</p>\n          {selectedRes && (\n            <BlockContent\n              blocks={selectedRes}\n              renderContainerOnSingleChild={true}\n            />\n          )}\n          <p className=\"font-weight-bold\">\n            send us a message at{\" \"}\n            <a href=\"mailto:a.p.hardon@uva.nl\">\n              <u>a.p.hardon@uva.nl</u>\n            </a>{\" \"}\n            or{\" \"}\n            <a href=\"mailto:h.k.murray@uva.nl\">\n              <u>h.k.murray@uva.nl</u>\n            </a>\n          </p>\n        </ModalBody>\n      </Modal>\n    </React.Fragment>\n  );\n};\n\nexport default withRouter(ProjectPage);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter, HashRouter, Route, Switch } from \"react-router-dom\";\nimport Landing from \"./components/Landing\";\nimport Home from \"./components/Home\";\nimport ProjectPage from \"./components/ProjectPage\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"./index.css\";\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\n\nclass App extends React.Component {\n  render() {\n    return (\n      <HashRouter>\n        <Switch>\n          <Route exact path=\"/\" component={Landing} />\n          <Route\n            exact\n            path={\n              \"/:type(chemical|topic|location|researcher|time|method)?/:selection\"\n            }\n            component={Home}\n          />\n          <Route exact path={\"/projects/:slug\"} component={ProjectPage} />\n        </Switch>\n      </HashRouter>\n    );\n  }\n}\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"right-column\":\"ProjectPageSideBar_right-column__2xZyB\",\"list-title\":\"ProjectPageSideBar_list-title__uGfqF\",\"list-el\":\"ProjectPageSideBar_list-el__1xOgQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"carousel\":\"Carousel_carousel__36vA8\",\"slider\":\"Carousel_slider__rZJdc\",\"slider-half\":\"Carousel_slider-half__2wWZB\",\"slider-image\":\"Carousel_slider-image__31RK1\",\"slider-arrows\":\"Carousel_slider-arrows__bWfSN\"};","export const timeLabels = {\n  0: '3 months',\n  3: '6 months',\n  6: '1 year',\n  12: '2 years',\n  24: '3 years',\n  36: 'more than 3 years'\n};\n\nexport const quantizeTime = time => {\n  if (time < 3) {\n    return 0;\n  } else if (time >= 3 && time < 6) {\n    return 3;\n  } else if (time >= 6 && time < 12) {\n    return 6;\n  } else if (time >= 12 && time < 24) {\n    return 12;\n  } else if (time >= 24 && time < 36) {\n    return 24;\n  } else if (time >= 36) {\n    return 36;\n  }\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"split\":\"Home_split__1LV--\",\"col-projects\":\"Home_col-projects__3cEkv\",\"col-viz\":\"Home_col-viz__1MBne\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"projectPageMapTitle\":\"SpecialProject_projectPageMapTitle__32q1s\",\"projectPageSectionTitle\":\"SpecialProject_projectPageSectionTitle__kCtQY\",\"infobox\":\"SpecialProject_infobox__2qEew\"};","import React from 'react';\n\nexport const AppContext = React.createContext({\n  section: '',\n  setSection: () => {},\n  selectedChemical: '',\n  setSelectedChemical: () => {},\n  selectedLocation: '',\n  setSelectedLocation: () => {},\n  selectedTopic: '',\n  setSelectedTopic: () => {},\n  selected: [],\n  setSelected: () => {},\n  toggleSelected: () => {}\n});\n"],"sourceRoot":""}